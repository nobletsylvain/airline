[gd_scene load_steps=3 format=3 uid="uid://bvdx8y3qwmfqh"]

[ext_resource type="Script" path="res://scripts/GameUI.gd" id="1_main"]
[ext_resource type="Script" path="res://scripts/WorldMap.gd" id="2_worldmap"]
[ext_resource type="Script" path="res://scripts/SimulationEngine.gd" id="3_simulation"]

[node name="Main" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_main")

[node name="SimulationEngine" type="Node" parent="."]
script = ExtResource("3_simulation")

[node name="MarginContainer" type="MarginContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="TopPanel" type="PanelContainer" parent="MarginContainer/VBoxContainer"]
layout_mode = 2
custom_minimum_size = Vector2(0, 50)

[node name="HBoxContainer" type="HBoxContainer" parent="MarginContainer/VBoxContainer/TopPanel"]
layout_mode = 2
theme_override_constants/separation = 15

[node name="InfoLabel" type="Label" parent="MarginContainer/VBoxContainer/TopPanel/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
text = "SkyLine Airways | Grade: New | Reputation: 0.0 | Fleet: 0"
vertical_alignment = 1

[node name="WeekLabel" type="Label" parent="MarginContainer/VBoxContainer/TopPanel/HBoxContainer"]
layout_mode = 2
text = "Week: 0"
vertical_alignment = 1

[node name="BalanceLabel" type="Label" parent="MarginContainer/VBoxContainer/TopPanel/HBoxContainer"]
layout_mode = 2
text = "Balance: $100.00M"
vertical_alignment = 1

[node name="PlayButton" type="Button" parent="MarginContainer/VBoxContainer/TopPanel/HBoxContainer"]
layout_mode = 2
toggle_mode = true
text = "||"
tooltip_text = "Pause"

[node name="Speed1xButton" type="Button" parent="MarginContainer/VBoxContainer/TopPanel/HBoxContainer"]
layout_mode = 2
toggle_mode = true
text = "1x"
tooltip_text = "Real-Time (1 week = 2.8 hours)"

[node name="Speed10xButton" type="Button" parent="MarginContainer/VBoxContainer/TopPanel/HBoxContainer"]
layout_mode = 2
toggle_mode = true
text = "10x"
tooltip_text = "Slow (1 week = 28 minutes)"

[node name="Speed50xButton" type="Button" parent="MarginContainer/VBoxContainer/TopPanel/HBoxContainer"]
layout_mode = 2
toggle_mode = true
button_pressed = true
text = "50x"
tooltip_text = "Normal (1 week = 5.6 minutes)"

[node name="Speed200xButton" type="Button" parent="MarginContainer/VBoxContainer/TopPanel/HBoxContainer"]
layout_mode = 2
toggle_mode = true
text = "200x"
tooltip_text = "Fast (1 week = 84 seconds)"

[node name="SpeedMaxButton" type="Button" parent="MarginContainer/VBoxContainer/TopPanel/HBoxContainer"]
layout_mode = 2
toggle_mode = true
text = "MAX"
tooltip_text = "Very Fast (1 week = 17 seconds)"

[node name="StepButton" type="Button" parent="MarginContainer/VBoxContainer/TopPanel/HBoxContainer"]
layout_mode = 2
text = "+1 Week"

[node name="MainArea" type="HSplitContainer" parent="MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="WorldMap" type="Control" parent="MarginContainer/VBoxContainer/MainArea"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 1.5
script = ExtResource("2_worldmap")

[node name="RightPanels" type="VBoxContainer" parent="MarginContainer/VBoxContainer/MainArea"]
custom_minimum_size = Vector2(700, 0)
layout_mode = 2
theme_override_constants/separation = 10

[node name="InfoPanel" type="PanelContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels"]
custom_minimum_size = Vector2(0, 120)
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/InfoPanel"]
layout_mode = 2

[node name="InfoTitle" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/InfoPanel/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 14
text = "Selection Info"

[node name="AirportInfo" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/InfoPanel/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
text = "Click on airports to see details

Click two airports to create a route"
autowrap_mode = 3

[node name="ManagementTabs" type="TabContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels"]
layout_mode = 2
size_flags_vertical = 3

[node name="Routes" type="ScrollContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs"]
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Routes"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_constants/separation = 10

[node name="Title" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Routes/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 16
text = "Your Routes"

[node name="RouteList" type="ItemList" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Routes/VBoxContainer"]
custom_minimum_size = Vector2(0, 300)
layout_mode = 2
size_flags_vertical = 3

[node name="Fleet" type="ScrollContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs"]
visible = false
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Fleet"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_constants/separation = 15

[node name="FleetTitle" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Fleet/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 16
text = "Your Fleet"

[node name="FleetList" type="ItemList" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Fleet/VBoxContainer"]
custom_minimum_size = Vector2(0, 200)
layout_mode = 2

[node name="FleetStatsPanel" type="PanelContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Fleet/VBoxContainer"]
layout_mode = 2

[node name="FleetStats" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Fleet/VBoxContainer/FleetStatsPanel"]
layout_mode = 2
text = "Total Aircraft: 0
Available: 0
Assigned: 0
Avg Condition: 100%"

[node name="Separator1" type="HSeparator" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Fleet/VBoxContainer"]
layout_mode = 2

[node name="ShopTitle" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Fleet/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 16
text = "Aircraft Market"

[node name="AircraftList" type="ItemList" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Fleet/VBoxContainer"]
custom_minimum_size = Vector2(0, 150)
layout_mode = 2

[node name="AircraftDetailsPanel" type="PanelContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Fleet/VBoxContainer"]
custom_minimum_size = Vector2(0, 120)
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Fleet/VBoxContainer/AircraftDetailsPanel"]
layout_mode = 2

[node name="AircraftDetails" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Fleet/VBoxContainer/AircraftDetailsPanel/VBoxContainer"]
layout_mode = 2
text = "Select an aircraft to see details"
autowrap_mode = 3

[node name="PurchaseButton" type="Button" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Fleet/VBoxContainer/AircraftDetailsPanel/VBoxContainer"]
layout_mode = 2
text = "Purchase Aircraft"
disabled = true

[node name="Finances" type="ScrollContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs"]
visible = false
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_constants/separation = 15

[node name="FinancialsTitle" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 16
text = "Financial Summary"

[node name="WeeklyStatsPanel" type="PanelContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer"]
layout_mode = 2

[node name="WeeklyStats" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer/WeeklyStatsPanel"]
layout_mode = 2
text = "Revenue: $0
Expenses: $0
Profit: $0
Balance: $100.00M"

[node name="Separator1" type="HSeparator" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer"]
layout_mode = 2

[node name="LoansTitle" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 16
text = "Active Loans"

[node name="LoansList" type="ItemList" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2

[node name="LoanSummary" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer"]
layout_mode = 2
text = "Total Debt: $0 | Weekly Payments: $0"

[node name="Separator2" type="HSeparator" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer"]
layout_mode = 2

[node name="ApplyLoanTitle" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 16
text = "Apply for Loan"

[node name="LoanPanel" type="PanelContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer"]
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer/LoanPanel"]
layout_mode = 2
theme_override_constants/separation = 8

[node name="CreditInfo" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer/LoanPanel/VBoxContainer"]
layout_mode = 2
text = "Credit Limit: $0
Interest Rate: 8.0%
Grade: New"

[node name="Separator" type="HSeparator" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer/LoanPanel/VBoxContainer"]
layout_mode = 2

[node name="AmountContainer" type="HBoxContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer/LoanPanel/VBoxContainer"]
layout_mode = 2

[node name="AmountLabel" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer/LoanPanel/VBoxContainer/AmountContainer"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
text = "Amount ($M):"
vertical_alignment = 1

[node name="AmountInput" type="LineEdit" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer/LoanPanel/VBoxContainer/AmountContainer"]
layout_mode = 2
size_flags_horizontal = 3
placeholder_text = "50"
alignment = 1

[node name="TermContainer" type="HBoxContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer/LoanPanel/VBoxContainer"]
layout_mode = 2

[node name="TermLabel" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer/LoanPanel/VBoxContainer/TermContainer"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
text = "Term (weeks):"
vertical_alignment = 1

[node name="TermInput" type="LineEdit" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer/LoanPanel/VBoxContainer/TermContainer"]
layout_mode = 2
size_flags_horizontal = 3
placeholder_text = "52"
alignment = 1

[node name="PaymentPreview" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer/LoanPanel/VBoxContainer"]
layout_mode = 2
text = "Weekly Payment: $0"

[node name="ApplyButton" type="Button" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer/LoanPanel/VBoxContainer"]
layout_mode = 2
text = "Apply for Loan"

[node name="ApplicationResult" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Finances/VBoxContainer"]
custom_minimum_size = Vector2(0, 80)
layout_mode = 2
autowrap_mode = 3

[node name="Market" type="ScrollContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs"]
visible = false
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Market"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_constants/separation = 15

[node name="CompetitorsTitle" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Market/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 16
text = "Competitor Airlines"

[node name="CompetitorList" type="ItemList" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Market/VBoxContainer"]
custom_minimum_size = Vector2(0, 200)
layout_mode = 2

[node name="MarketStatsPanel" type="PanelContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Market/VBoxContainer"]
layout_mode = 2

[node name="MarketStats" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Market/VBoxContainer/MarketStatsPanel"]
layout_mode = 2
text = "Total Airlines: 5
Total Routes: 0
Your Market Share: 0%"

[node name="Separator1" type="HSeparator" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Market/VBoxContainer"]
layout_mode = 2

[node name="DetailTitle" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Market/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 16
text = "Competitor Details"

[node name="CompetitorDetailPanel" type="PanelContainer" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Market/VBoxContainer"]
custom_minimum_size = Vector2(0, 100)
layout_mode = 2

[node name="CompetitorDetail" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Market/VBoxContainer/CompetitorDetailPanel"]
layout_mode = 2
text = "Select a competitor to see details"
autowrap_mode = 3

[node name="Separator2" type="HSeparator" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Market/VBoxContainer"]
layout_mode = 2

[node name="CompetingRoutesTitle" type="Label" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Market/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 14
text = "Competing Routes"

[node name="CompetingRoutes" type="ItemList" parent="MarginContainer/VBoxContainer/MainArea/RightPanels/ManagementTabs/Market/VBoxContainer"]
custom_minimum_size = Vector2(0, 150)
layout_mode = 2
